# Welcome to HoneyDB Agent Docs!

[![Documentation Status](https://readthedocs.org/projects/honeypy/badge/?version=latest)](http://honeydb-agent-docs.readthedocs.io/en/latest/?badge=latest)

HoneyDB ([honeydb.io](http://honeydb.io)) provides real time data of honeypot activity. This data comes from honeypot sensors deployed globally on the Internet.

**HoneyDB Agent**

The honeydb-agent is a small honeypot program that can be easily deployed on Linux or Windows systems. The honeydb-agent can be configured to particpate in the HoneyDB network or operate standalone.  When running as a standalone agent all activity can be logged to local files, but the primary purpose for the honeydb-agent is to contribute log data back to the [HoneyDB website](http://honeydb.io). The honeydb-agent can implement numerous network service emulations (plugins). The level of interaction is determined by the functionality of the plugins.

When configured to contribute log data to HoneyDB, all data are accessible via the [HoneyDB REST API](https://riskdiscovery.com/honeydb/threats). This means you can deploy the honeydb-agent quickly with minimal configuration effort and no requirement for log management.

# Installation

Install packages are hosted by [Cloudsmith.io](https://cloudsmith.io), current version:

<img src="https://api-prd.cloudsmith.io/badges/version/honeydb/honeydb-agent/deb/honeydb-agent/latest/d=debian%252Fstretch/?render=true" alt="Latest Version @ Cloudsmith" />

**Linux**

On Linux, the honeydb-agent can be installed via your package management system. First, you will need to add the honeydb-agent repository to your system, and then installed via package management tools (e.g `apt-get` or `yum`).

Instructions for adding the honeydb-agent package repository to you system can be found on the HoneyDB website. For each operation system there is a Quick Setup and Manual Setup option.

[Amazon Linux / Red Hat / CentOS](https://riskdiscovery.com/honeydb/downloads#redhat)

[Debian](https://riskdiscovery.com/honeydb/downloads#debian)

[Ubuntu](https://riskdiscovery.com/honeydb/downloads#ubuntu)

[Raspbian (ARM)](https://riskdiscovery.com/honeydb/downloads#raspbian)

# Configuration

There are two configuration files for HoneyDB Agent, The default location for both files is `/etc/honeydb`. The main configuration file is `agent.conf`, and the services configuration file is `services.conf`.

## Agent Configuration

In the `agent.conf` file, the main configuration section is the `[agent]` section and actually only has one option to configure.

nodename | Name for this agent node to be displayed in tweets (if Twitter is configured).

### Loggers

Loggers tell the honeydb-agent where to send log data and are configured within the `agent.conf` file. There are three loggers available.

#### HoneyDB

To log data back to HoneyDB you will need a HoneyDB API ID and HoneyDB Agent Sensor API key. These keys can be generated by creating an account on the HoneyDB website. Once you have keys, edit the `[honeydb]` section in the `agent.conf` file, see example below:

```
[honeydb]
enabled  = Yes
api_id   = abcd1234
api_key  = 4321dcba
```

#### Local

To log data locally on the system edit the `[local]` section in the `agent.conf` file, see example below:

```
[local]
enabled = Yes
log_dir = /your/custom/path/honeydb
```

#### Twitter

The honeydb-agent can be configured to tweet connection events (not all events are tweeted). To enable the
Twitter logger you will need to Twitter API credentials, see [https://dev.twitter.com/oauth/application-only](https://dev.twitter.com/oauth/application-only). Edit the `[twitter]` section in the `agent.conf` file, see example below:

```
[twitter]
enabled        = Yes
consumerkey    = abcdefg
consumersecret = 123456
oauthtoken     = gfedcba
oauthsecret    = 654321
```

## Service Configuration

The `service.conf` file tells HoneyDB Agent which services to launch. The service configuration file is used to define service names, ports, and plugins to run on your honeypot. Each service defined in the file has an `enabled` option. This option can be set to Yes or No to determine which services run when the honeydb-agent is started.

Example service definition:

```
[FTP]
plugin      = FTP_tcp
low_port    = tcp:21
port        = tcp:21
description = FTP service.
enabled     = Yes
```

Explination of service definition:

`[FTP]` - The service name. You can set your own service name, however service names must not contain spaces.

`plugin = FTP_tcp` - The service plugin. The plugin specified determines what protocol emulation to implement.

`low_port = tcp:21` - This value is used as a reference in scenarios where port forwarding with iptables is required. The protocol (TCP or UDP) and port the host will listen on for this service.

`port = tcp:21` - The protocol (TCP or UDP) and port number to use when starting the service.

NOTE: If you are not implementing port forwarding with iptables, `low_port` and `port` should have the same values.

`description = FTP service.` - The description of the service.

`enabled = Yes` - Yes or No, tells honeydb-agent if the service should run or not. 

The default `services.conf` file comes with all services pre-configured. Review this file to see what plugins are available.

## Services

#### Echo

Echo back data received via tcp.

Plugin name: `Echo`

#### Echo.udp

Echo back data received via udp.

Plugin name: `Echo.udp`

#### FTP

FTP service.

Plugin name: `FTP_tcp`

#### SSH

Documentation to come.

#### Telnet

Documentation to come.

#### SMTP

Documentation to come.

#### DNS.udp

Documentation to come.

#### TFTP

Documentation to come.

#### HTTP

Documentation to come.

#### Modbus

Documentation to come.

#### Random

Documentation to come.

#### Telnet.IoT

Documentation to come.

#### MySQL

Documentation to come.

#### VNC

Documentation to come.

#### Redis

Documentation to come.

#### WebLogic

Documentation to come.

#### Elasticsearch

Documentation to come.

#### Memcached

Documentation to come.

